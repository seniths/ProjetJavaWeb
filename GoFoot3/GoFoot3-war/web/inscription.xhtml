<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./mainTemplate.xhtml">

            <ui:define name="content">
                <div id="divInscription">
                    <h:form>
                        <table id="tableInscription">
                            <thead>
                                <tr>
                                    <th colspan="2">
                                        <h:outputText value="#{msg.completeForm}"/>
                                    </th>
                                </tr>
                                <tr>
                                    <th >
                                        <h:outputText value="#{msg.requiredField}"/>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.firstname}" for="firstname"/>
                                    </td>
                                    <td>
                                        <h:inputText value="#{registerManagedBean.client.firstname}" id="firstname" required="true" requiredMessage="#{msg.requiredFirstname}" validatorMessage="#{msg.validatorFirstname}">
                                            <f:validateRegex pattern="[a-zA-Z]*"/>
                                        </h:inputText>
                                        
                                    </td>
                                    <td>
                                        <h:message for="firstname"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.lastname}" for="lastname"/>
                                    </td>
                                    <td>
                                        <h:inputText value="#{registerManagedBean.client.lastname}" id="lastname" required="true" requiredMessage="#{msg.requiredLastname}" validatorMessage="#{msg.validatorLastname}">
                                            <f:validateRegex pattern="[a-zA-Z]*"/>
                                        </h:inputText>    
                                    </td>
                                    <td>
                                        <h:message for="lastname"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.birthDate}" for="birthdate"/>
                                    </td>
                                    <td>
                                        <h:inputText value="#{registerManagedBean.client.birthdate}" id="birthdate" converter="myDateConverter"/>
                                    </td>
                                    <td>
                                        <h:message for="birthdate"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.gender}" for="gender"/>
                                    </td>
                                    <td>
                                        <h:selectOneRadio value="#{registerManagedBean.client.gender}" id="gender" layout="lineDirection">
                                            <f:selectItem itemValue="true" itemLabel="#{msg.man}"/>
                                            <f:selectItem itemValue="false" itemLabel="#{msg.woman}"/>
                                        </h:selectOneRadio>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.email}" for="mail"/>
                                    </td>
                                    <td>
                                        <h:inputText value="#{registerManagedBean.client.mail}" id="mail" required="true" requiredMessage="#{msg.requiredEmail}" validatorMessage="#{msg.validatorEmail}">
                                            <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                        </h:inputText>
                                    </td>
                                    <td >
                                        <h:message for="mail"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.loginRegistration}" for="login"/>
                                    </td>
                                    <td>
                                        <h:inputText value="#{registerManagedBean.client.login}" id="login" required="true" requiredMessage="#{msg.requiredLogin}" >
                                            <f:validator validatorId="loginValidator"/>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="login"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.passwordRegistration}" for="pwd"/>
                                    </td>
                                    <td>
                                        <h:inputSecret value="#{registerManagedBean.client.password}" id="pwd" required="true" requiredMessage="#{msg.requiredPassword}">
                                            <f:validator validatorId="pwdValidator"/>
                                            <f:attribute name="confirm" value="#{confirm}"/>
                                        </h:inputSecret>
                                    </td>
                                    <td>
                                        <h:message for="pwd"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.repeatPassword}" for="pwd2"/>
                                    </td>
                                    <td>
                                        <h:inputSecret binding="#{confirm}" id="confirm" required="true" requiredMessage="#{msg.requiredRepeatPassword}"/>
                                    </td>
                                    <td>
                                        <h:message for="confirm"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.street}" for="street"/>
                                    </td>
                                    <td >
                                        <h:inputText value="#{registerManagedBean.client.street}" id="street" required="true" requiredMessage="#{msg.requiredStreet}"/>
                                    </td>
                                    <td>
                                        <h:message for="street"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.number}" for="number"/>
                                    </td>
                                    <td>
                                        <h:inputText value="#{registerManagedBean.client.number}" id="number" required="true" requiredMessage="#{msg.requiredNumber}"/>
                                    </td>
                                    <td>
                                        <h:message for="number"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.postalCode}" for="cp"/>
                                    </td>
                                    <td >
                                        <h:inputText value="#{registerManagedBean.client.postalCode}" id="cp" required="true" requiredMessage="#{msg.requiredPostalCode}" validatorMessage="#{msg.validatorPostalCode}" >
                                            <f:validateLength minimum="4" maximum="4"/>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="cp"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.locality}" for="locality"/>
                                    </td>
                                    <td>
                                        <h:inputText value="#{registerManagedBean.client.locality}" id="locality" required="true" requiredMessage="#{msg.requiredLocality}"/>
                                    </td>
                                    <td>
                                        <h:message for="locality"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <h:outputLabel value="#{msg.phone}" for="phone"/>
                                    </td>
                                    <td>
                                        <h:inputText value="#{registerManagedBean.client.phone}" id="phone" required="true" requiredMessage="#{msg.requiredPhone}" validatorMessage="#{msg.validatorPhone}">
                                            <f:validateRegex pattern="(\d){3,4}(/)?(\d){6}"/>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="phone"/>
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td></td>
                                    <td colspan="2">
                                        <h:commandButton value="#{msg.end}" action="#{registerManagedBean.register()}" />
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </h:form>
                </div>
            </ui:define>

        </ui:composition>

    </body>
</html>
